// Copyright (c) 2014 Extesla Digital, LLC.
//
// Licensed under the MIT License (http://opensource.org/licenses/MIT)
//
// Permission is hereby granted, free of charge, to any
// person obtaining a copy of this software and associated
// documentation files (the "Software"), to deal in the
// Software without restriction, including without limitation
// the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software,
// and to permit persons to whom the Software is furnished
// to do so, subject to the following conditions:
//
// The above copyright notice and this permission notice
// shall be included in all copies or substantial portions of
// the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY
// KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE
// WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR
// PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS
// OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR
// OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT
// OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
// SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.



// Offcanvas Container
// ----------------------------------------------
// The .offcanvas-container class should be placed on the parent layer of the
// offcanvas workflow; that is, the outer most layer of the components to be
// affected by the offcanvas transitions.
//
// Its purpose is to constrain the content of the offcanvas transitions to the
// view port. This prevents the horizontal scrollbar from showing up in
// left-to-right and right-to-left transitions.
//
.offcanvas-container
{
  overflow-x: hidden;
  background: none repeat scroll 0 0 #444444;
  
  //.st-pusher
  .offcanvas-main
  {
    position: relative;
    left: 0;
    z-index: 99;
    height: 100%;
    -webkit-transition: -webkit-transform .5s;
            transition:         transform .5s;
  }

  //.st-pusher:after  
  .offcanvas-main::after
  {
    position: absolute;
    top: 0;
    right: 0;
    width: 0;
    height: 0;
    content: '';
    background: rgba(0,0,0,.2);
    opacity: 0;
    -webkit-transition: opacity .5s, width .1s .5s, height .1s .5s;
            transition: opacity .5s, width .1s .5s, height .1s .5s;
  }
  
  .transitioning
  {
    .offcanvas-main::after
    {
      width: 100%;
      height: 100%;
      transition: opacity .5s ease 0s;
    }
  }
  
  .transitioning.offcanvas-open
  {
    .offcanvas-main::after
	{
      opacity: 1;
    }
  }
  
  .transitioning.offcanvas-close
  {
    .offcanvas-main::after
	{
      opacity: 0;
    }
  }
}

// .st-menu-open .st-pusher::after
.offcanvas-container.offcanvas-active .offcanvas-main::after {
  width: 100%;
  height: 100%;
  opacity: 1;
  -webkit-transition: opacity .5s;
          transition: opacity .5s;
}

//.st-menu
.offcanvas-container .offcanvas {
  position: fixed;
  top: 0;
  left: 0;
  z-index: 100;
  width: 300px;
  height: 100%;
  visibility: hidden; /*visibility: visible;*/
  -webkit-transition: all .5s;
          transition: all .5s;
}

//.st-menu::after
.offcanvas-container .offcanvas::after {
  position: absolute;
  top: 0;
  right: 0;
  width: 100%;
  height: 100%;
  content: '';
  background: rgba(0,0,0,.2);
  opacity: 1;
}

//.st-menu-open .st-menu::after
.offcanvas-container.offcanvas-active .offcanvas::after {
  width: 0;
  height: 0;
  opacity: 0;
}

.offcanvas-container .offcanvas.offcanvas-left {
  -webkit-transform: translate3d(-100%, 0, 0);
          transform: translate3d(-100%, 0, 0);
}

.offcanvas-container.offcanvas-active .offcanvas,
.offcanvas-container.transitioning.offcanvas-open .offcanvas {
  visibility: visible;
}

.offcanvas-container.transitioning.offcanvas-close .offcanvas {
  visibility: visible;
}

.offcanvas-container .offcanvas.offcanvas-top {
  border-width: 0px;
  border-bottom-width: @offcanvas-border-width;
}
.offcanvas-container .offcanvas.offcanvas-right {
  border-width: 0px;
  border-left-width: @offcanvas-border-width;
}
.offcanvas-container .offcanvas.offcanvas-bottom {
  border-width: 0px;
  border-top-width: @offcanvas-border-width;
}
.offcanvas-container .offcanvas.offcanvas-left {
  border-width: 0px;
  border-right-width: @offcanvas-border-width;
}

.offcanvas-default {
	.offcanvas-variant(@offcanvas-default-color; @offcanvas-default-bg; @offcanvas-default-border);
}

.offcanvas-inverse {
	.offcanvas-variant(@offcanvas-inverse-color; @offcanvas-inverse-bg; @offcanvas-inverse-border);
}

.offcanvas-slate {
	.offcanvas-variant(@offcanvas-slate-color; @offcanvas-slate-bg; @offcanvas-slate-border);
}

.offcanvas-cloud {
	.offcanvas-variant(@offcanvas-cloud-color; @offcanvas-cloud-bg; @offcanvas-cloud-border);
}

.offcanvas-cobalt {
	.offcanvas-variant(@offcanvas-cobalt-color; @offcanvas-cobalt-bg; @offcanvas-cobalt-border);
}
